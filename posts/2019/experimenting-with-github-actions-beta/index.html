<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Experimenting With Github Actions (beta) | QBart&#39;s log</title>
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Titillium+Web:300,300i,400,400i,600,600i,700,700i,900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="/css/normalize.css" />
  <link rel="stylesheet" href="/css/fonts.css" />
  <link rel="stylesheet" href="/css/style.css" />
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
</head>

<body>
  <nav class="navbar">
    <div class="container">
      <div class="navbar-left">
        <a href="/">
          tail -f qbart.dev.log
        </a>
      </div>

      <div class="navbar-right">
        <a id="a-adjust">
          <i class="fas fa-adjust"></i>
        </a>
        <a id="a-burger">
          <i class="closed fas fa-bars"></i>
          <i class="opened fas fa-times"></i>
        </a>
      </div>

      <div id="submenu">
        
        <a href="/projects/">Projects</a>
        
      </div>
    </div>
  </nav>
  <div class="container content">

<div class="article-meta">
  <h1><span class="title">Experimenting With Github Actions (beta)</span></h1>
  
  <h2 class="date">2019/01/05</h2>
  <div class="tags">
    <a href="/tags/docker/" class="tag">#docker</a>
    
    <a href="/tags/github/" class="tag">#github</a>
    
    <a href="/tags/github-actions/" class="tag">#github actions</a>
    
    <a href="/tags/aws/" class="tag">#aws</a>
    
    <a href="/tags/pipeline/" class="tag">#pipeline</a>
    
    <a href="/tags/ci/" class="tag">#ci</a>
    
  </div>
</div>

<main>
  <p>This article was originally published <a href="https://medium.com/selleo/experimenting-with-github-actions-beta-760e61fab0e1">here</a>.</p>

<p>With the upcoming new GitHub Actions feature, I was very excited to test it, so I immediately signed up for the beta access and finally my invitation had been accepted.</p>

<p>The reason for my excitement mainly comes from my current project where I am mostly responsible for managing the infrastructure in AWS (Terraform) and backend development (Ruby on Rails) — if I have time for it. We also have a lot of PWA that we deploy to AWS Cloudfront so there is a constant need for automation (we still do some things manually but we are improving everyday). Our simplified pipeline looks like this:</p>

<ol>
<li>GitHub PR (master &lt;- feature branch)</li>
<li>CircleCI

<ul>
<li>linter</li>
<li>specs</li>
<li>aws push to CodePipeline or trigger Cloudfront invalidation for PWA (only from master)</li>
</ul></li>
<li>AWS CodePipeline starts image building and ECS deployment</li>
</ol>

<p>As much as I like some of the Amazon services, AWS CodePipeline is not one of them so with GitHub Actions on the rise I hope to replace it completely. To verify if that&rsquo;s even possible I created a dummy project that will test the following:</p>

<ul>
<li>linter (rubocop)</li>
<li>tests (rspec)</li>
<li>deployment from master only (Heroku will do for now, I can expand that later to AWS)</li>
<li>notification (when the process is done)</li>
</ul>

<p>In this article, I won&rsquo;t be going into details what GitHub Actions is and how everything works because GitHub documentation will do a much better job and I don&rsquo;t want to duplicate the content that is already there, especially, that it is a beta and things might change. I will only highlight a few things and most of the time I will leave you with the link to the GitHub pages.</p>

<p>For the Ruby app I used Sinatra and wrote one silly endpoint:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">get <span style="color:#f1fa8c">&#39;/&#39;</span> <span style="color:#ff79c6">do</span>
   <span style="color:#f1fa8c">&#34;</span><span style="color:#f1fa8c">#{</span>ENV<span style="color:#ff79c6">[</span><span style="color:#f1fa8c">&#39;RACK_ENV&#39;</span><span style="color:#ff79c6">]</span><span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">: Hello there! My secret is </span><span style="color:#f1fa8c">#{</span>ENV<span style="color:#ff79c6">[</span><span style="color:#f1fa8c">&#39;MY_SECRET&#39;</span><span style="color:#ff79c6">]</span><span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">&#34;</span>
<span style="color:#ff79c6">end</span></code></pre></div>
<p>and its corresponding spec:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">describe <span style="color:#f1fa8c">&#39;Test GitHub Action&#39;</span> <span style="color:#ff79c6">do</span>
  it <span style="color:#f1fa8c">&#39;returns appropriate text for index page&#39;</span> <span style="color:#ff79c6">do</span>
    get <span style="color:#f1fa8c">&#39;/&#39;</span>
    expect(last_response<span style="color:#ff79c6">.</span>body)<span style="color:#ff79c6">.</span>to eq <span style="color:#f1fa8c">&#39;test: Hello there! My secret is 123&#39;</span>
  <span style="color:#ff79c6">end</span>
<span style="color:#ff79c6">end</span></code></pre></div>
<p>For Docker, no surprises here, just a small file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#ff79c6">FROM</span><span style="color:#f1fa8c"> ruby:2.5.1</span>
ARG RACK_ENV
ARG PORT
<span style="color:#ff79c6">ENV</span><span style="color:#f1fa8c"> APP_HOME /app</span>
<span style="color:#ff79c6">RUN</span> apt-get update -qq <span style="color:#ff79c6">&amp;&amp;</span> apt-get install -y build-essential
<span style="color:#ff79c6">RUN</span> mkdir <span style="color:#8be9fd;font-style:italic">$APP_HOME</span>
<span style="color:#ff79c6">WORKDIR</span><span style="color:#f1fa8c"> $APP_HOME</span>
<span style="color:#ff79c6">ADD</span><span style="color:#f1fa8c"> . $APP_HOME/</span>
<span style="color:#ff79c6">RUN</span> bundle install — without development test
<span style="color:#ff79c6">CMD</span><span style="color:#f1fa8c"> rackup -p $PORT — host 0.0.0.0</span></code></pre></div>
<p>GitHub Actions come with some predefined actions built by the GitHub team. One of them is Heroku and Docker cli tools, to name a few. For more, please take a look at the documentation <a href="https://github.com/actions">here</a>.</p>

<p>There is also a GUI for defining actions and works pretty well but I prefer doing this in my code editor.</p>

<p>First, create a workflow file <code>.github/main.workflow</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">workflow &#34;Test and deploy to Heroku&#34; {
 on = &#34;push&#34;
 resolves = [&#34;ruby.build&#34;]
}</code></pre></div>
<p><a href="https://developer.github.com/actions/managing-workflows/workflow-configuration-options/">Workflow</a> definition is pretty self-explanatory so just a short comment:</p>

<ul>
<li><code>on</code> defines event when the whole process kicks in (push type is the only one available in beta)</li>
<li><code>resolves</code> specifies a list of target actions to resolve (you can put any text here but I kinda like namespace.action convention for my purposes - this comes in handy later when you declare your action dependencies)</li>
</ul>

<p>First action:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">action &#34;ruby.build&#34; {
 uses = &#34;actions/docker/cli@master&#34;
 args = &#34;build -f Dockerfile.test -t ci-$GITHUB_SHA:latest .&#34;
}</code></pre></div>
<p>This will build a docker container that will be used for linting and testing.</p>

<p>Please also note that there some built-in <code>GITHUB_*</code> envs for you to use, list <a href="https://developer.github.com/actions/creating-github-actions/accessing-the-runtime-environment/#environment-variables">here</a>.</p>

<p>Action breakdown:</p>

<ul>
<li><code>uses</code> declares what kind of action will it be and could be read as follows: <code>:github_user_or_org_name/:repository/:folder@:ref</code> — as a ref I used master but for production workflows, you probably want to stick with a specific release tag or commit SHA and upgrade periodically</li>
<li><code>args</code> are just arguments passed to underlying command (in this action it will be <code>docker ...</code>)</li>
</ul>

<p>Take a look here how the action repository looks like <a href="https://github.com/actions/docker/tree/master/cli">here</a>.</p>

<p>Next part of the workflow can be run in parallel so:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">action &#34;ruby.rubocop&#34; {
 uses = &#34;actions/docker/cli@master&#34;
 needs = [&#34;ruby.build&#34;]
 args = &#34;run ci-$GITHUB_SHA:latest rubocop&#34;
}

action &#34;ruby.rspec&#34; {
 uses = &#34;actions/docker/cli@master&#34;
 needs = [&#34;ruby.build&#34;]
 args = &#34;run ci-$GITHUB_SHA:latest rspec&#34;
}</code></pre></div>
<p>Nothing new here except <code>needs</code> that specifies dependencies for actions (and that&rsquo;s why I am using <code>namespace.action</code> style rather than using <code>Build Ruby image</code> etc., it&rsquo;s just easier for me to track it with eyes).</p>

<p>I used a separate <code>Dockerfile</code> for a test environment so I can declare required variables there:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#ff79c6">FROM</span><span style="color:#f1fa8c"> ruby:2.5.1</span>

<span style="color:#ff79c6">ENV</span><span style="color:#f1fa8c"> RACK_ENV test</span>
<span style="color:#ff79c6">ENV</span><span style="color:#f1fa8c"> MY_SECRET 123 # if you want this to be out of the repo just use `ARG MY_SECRET` and define secrets in github action</span>
<span style="color:#ff79c6">ENV</span><span style="color:#f1fa8c"> APP_HOME /app</span>

<span style="color:#ff79c6">RUN</span> apt-get update -qq <span style="color:#ff79c6">&amp;&amp;</span> apt-get install -y build-essential
<span style="color:#ff79c6">RUN</span> mkdir <span style="color:#8be9fd;font-style:italic">$APP_HOME</span>

<span style="color:#ff79c6">WORKDIR</span><span style="color:#f1fa8c"> $APP_HOME</span>
<span style="color:#ff79c6">ADD</span><span style="color:#f1fa8c"> . $APP_HOME/</span>

<span style="color:#ff79c6">RUN</span> bundle install</code></pre></div>
<p>Ok, so tests are running, now we want to start a deployment but only if the branch is <code>master</code>. There is another pre-built <a href="https://github.com/actions/bin">action</a> for that:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">action &#34;git.master&#34; {
  uses = &#34;actions/bin/filter@master&#34;
  needs = [&#34;ruby.rubocop&#34;, &#34;ruby.rspec&#34;]
  args = &#34;branch master&#34;
}</code></pre></div>
<p>Before we start with Heroku workflow we need to create a project first. We will also need:</p>

<ul>
<li>to generate Heroku api key (<code>heroku authorizations:create</code>)</li>
<li>to set the stack to the container based (<code>heroku stack:set container</code>)</li>
<li>a project name (I named mine <code>test-github-actions</code>)</li>
</ul>

<p>Heroku action is described <a href="https://github.com/actions/heroku">here</a>. As of now, there is only one required secret <code>HEROKU_API_KEY</code> that has to contain your authorization key. You want to add this key to GitHub <a href="https://developer.github.com/actions/managing-workflows/storing-secrets/">secrets</a>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">action &#34;heroku.login&#34; {
  uses = &#34;actions/heroku@master&#34;
  needs = [&#34;git.master&#34;]
  args = &#34;container:login&#34;  secrets = [&#34;HEROKU_API_KEY&#34;]
}</code></pre></div>
<p><code>secrets</code> tells to decrypt declared variables in this action and expose them internally as an ENV (otherwise they won&rsquo;t be available), also <strong>do not</strong> print them because they might remain in logs.</p>

<p>Once we are logged in we can push our image:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">action &#34;heroku.push&#34; {
  uses = &#34;actions/heroku@master&#34;
  needs = &#34;heroku.login&#34;
  args = &#34;container:push web&#34;

  secrets = [
    &#34;HEROKU_API_KEY&#34;,
    &#34;HEROKU_APP&#34;
  ]

  env = {
    RACK_ENV = &#34;production&#34;
  }
}</code></pre></div>
<p>A little more explanation here, first I used <code>HEROKU_APP</code> which means that container will push image to whatever app that is defined there. There are actually multiple ways of how this could be achieved:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">args = &#34;container:push -a test-github-actions web&#34;</code></pre></div>
<p>or</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">args = &#34;container:push web&#34;

env = {
  HEROKU_APP = &#34;test-github-actions&#34;
}</code></pre></div>
<p>Personally, I preferred to put in secrets here so it requires less typing later if you need to use it multiple times in different actions.</p>

<p><code>RACK_ENV = &quot;production&quot;</code> is defined here as a building environment variable for docker image (our dockerfile had: <code>ARG RACK_ENV</code>).</p>

<p>For the following piece, I used <code>heroku config:set</code> command to propagate all my variables and secrets to heroku runtime variables:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">action &#34;heroku.envs&#34; {
  uses = &#34;actions/heroku@master&#34;
  needs = &#34;heroku.push&#34;

  args = [
    &#34;config:set&#34;,
    &#34;RACK_ENV=$RACK_ENV&#34;,
    &#34;MY_SECRET=$MY_SECRET&#34;
  ]

  secrets = [
    &#34;HEROKU_API_KEY&#34;,
    &#34;HEROKU_APP&#34;,
    &#34;MY_SECRET&#34;
  ]

  env = {
    RACK_ENV = &#34;production&#34;
  }
}</code></pre></div>
<p>And finally, a deployment:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">action &#34;heroku.deploy&#34; {
  uses = &#34;actions/heroku@master&#34;
  needs = [&#34;heroku.envs&#34;, &#34;heroku.push&#34;]

  args = [&#34;container:release&#34;, &#34;web&#34;]

  secrets = [
    &#34;HEROKU_API_KEY&#34;,
    &#34;HEROKU_APP&#34;,
    &#34;MY_SECRET&#34;
  ]

  env = {
    RACK_ENV = &#34;production&#34;
  }
}</code></pre></div>
<p>At this moment, you should also update your workflow:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">...
resolves = [&#34;heroku.deploy&#34;]
...</code></pre></div>
<p>because that&rsquo;s the action you need to resolve to.</p>

<p>For a cherry on the top, I would add Slack notification and for that, we will need custom action, turns out it&rsquo;s easy to do this. As a starting point, replicate the following structure in your project folder:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-term" data-lang="term">.github/
  slack/
    Dockerfile
    entrypoint.sh</code></pre></div>
<p>For <code>entrypoint.sh</code> I defined a simple message posting to Slack:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#ff79c6">#!/bin/sh
</span><span style="color:#ff79c6"></span><span style="color:#8be9fd;font-style:italic">set</span> -e
curl -X POST -H <span style="color:#f1fa8c">&#39;Content-type: application/json&#39;</span> <span style="color:#f1fa8c">\
</span><span style="color:#f1fa8c"></span> --data <span style="color:#f1fa8c">&#34;{\&#34;text\&#34;: \&#34;</span><span style="color:#8be9fd;font-style:italic">$*</span><span style="color:#f1fa8c">\&#34;,\&#34;attachments\&#34;:[{\&#34;footer\&#34;: \&#34;</span><span style="color:#8be9fd;font-style:italic">$GITHUB_ACTOR</span><span style="color:#f1fa8c"> / </span><span style="color:#8be9fd;font-style:italic">$GITHUB_REPOSITORY</span><span style="color:#f1fa8c"> / </span><span style="color:#8be9fd;font-style:italic">$GITHUB_SHA</span><span style="color:#f1fa8c">\&#34;}]}&#34;</span> <span style="color:#f1fa8c">\
</span><span style="color:#f1fa8c"></span><span style="color:#8be9fd;font-style:italic">$SLACK_WEBHOOK_URL</span></code></pre></div>
<p>The important part: <code>$*</code> - command arguments will be pasted here. For the rest, please refer to Slack documentation.</p>

<p>Minimal dockerfile:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#ff79c6">FROM</span><span style="color:#f1fa8c"> debian:9.5-slim</span>

<span style="color:#ff79c6">RUN</span> apt-get update -qq <span style="color:#ff79c6">&amp;&amp;</span> apt-get install -y curl

ARG SLACK_WEBHOOK_URL
ARG GITHUB_ACTOR
ARG GITHUB_REPOSITORY
ARG GITHUB_SHA

LABEL <span style="color:#f1fa8c">&#34;com.github.actions.name&#34;</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;Slack notifier&#34;</span>
LABEL <span style="color:#f1fa8c">&#34;com.github.actions.description&#34;</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;Sends message to slack channel&#34;</span>
LABEL <span style="color:#f1fa8c">&#34;com.github.actions.icon&#34;</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;bell&#34;</span>
LABEL <span style="color:#f1fa8c">&#34;com.github.actions.color&#34;</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;yellow&#34;</span>

<span style="color:#ff79c6">ADD</span><span style="color:#f1fa8c"> entrypoint.sh /entrypoint.sh</span>
<span style="color:#ff79c6">ENTRYPOINT</span><span style="color:#f1fa8c"> [&#34;/entrypoint.sh&#34;]</span></code></pre></div>
<p>GitHub labels allow to customize the visual appearance of our action (you can see it later in GitHub workflow view). For a full customization refer to the documentation: <a href="https://developer.github.com/actions/creating-github-actions/creating-a-new-action/#hello-world-action-example">creating-a-new-action</a> / <a href="https://developer.github.com/actions/creating-github-actions/creating-a-docker-container/#label">color list</a> / <a href="https://developer.github.com/actions/creating-github-actions/creating-a-docker-container/#supported-feather-icons">icon list</a>.</p>

<p>At the end, make sure your code is executable:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-term" data-lang="term">chmod +x entrypoint.sh</code></pre></div>
<p>A final touch on workflow:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-github" data-lang="github">workflow &#34;Test and deploy to heroku&#34; {
  on = &#34;push&#34;
  resolves = [&#34;slack.notifier&#34;]
}

...

action &#34;slack.notifier&#34; {
  uses = &#34;./.github/slack&#34;
  needs = [&#34;heroku.deploy&#34;]
  args = &#34;Deployed!&#34;
  secrets = [&#34;SLACK_WEBHOOK_URL&#34;]
  # GITHUB_* envs are automatically here
}</code></pre></div>
<p>and here is the result:</p>

<figure class="image">
    <img src="/posts/2019/github-actions-beta-full-workflow.png" >
    <figcaption>Full workflow visualised</figcaption>
</figure>


<p>To sum it all up, I am very happy with the upcoming GitHub changes. My dummy project proved me that GitHub Actions are more than capable of replacing parts of our current pipeline and once a stable release is ready, we will plan to integrate it with our commercial project.</p>

<p>Link to repo: <a href="https://github.com/qbart/test-github-actions">https://github.com/qbart/test-github-actions</a>.</p>

<p>PS. If you find any errors in my article/code please let me know :)</p>

<p>And a couple of screenshots I took during the development:</p>

<figure class="image">
    <img src="/posts/2019/github-actions-beta-managing-secrets.png" >
    <figcaption>Managing secrets</figcaption>
</figure>


<figure class="image">
    <img src="/posts/2019/github-actions-beta-workflow-preview.png" >
    <figcaption>Workflow preview</figcaption>
</figure>


<figure class="image">
    <img src="/posts/2019/github-actions-beta-editing-workflow-init.png" >
    <figcaption>Editing workflow (my initial attempts)</figcaption>
</figure>


<figure class="image">
    <img src="/posts/2019/github-actions-beta-failed-workflow.png" >
    <figcaption>Failed workflow</figcaption>
</figure>


<figure class="image">
    <img src="/posts/2019/github-actions-beta-failed-action-logs.png" >
    <figcaption>Failed action logs</figcaption>
</figure>


<figure class="image">
    <img src="/posts/2019/github-actions-beta-invalid-workflow-config.png" >
    <figcaption>Invalid workflow config</figcaption>
</figure>


<figure class="image">
    <img src="/posts/2019/github-actions-beta-workflow-in-progress.png" >
    <figcaption>Workflow in progress</figcaption>
</figure>


  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "qbart" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</main>

</div>

<footer>
  <div class="container">
    <nav>
      <a href="https://github.com/qbart">
        <span class="icon is-small">
          <i class="fab fa-github" aria-hidden="true"></i>
        </span>
        <span>GitHub</span>
      </a>

      <a href="https://twitter.com/_qbart">
        <span class="icon is-small">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </span>
        <span>Twitter</span>
      </a>

      <a href="https://www.linkedin.com/in/bartlomiej-wojtowicz-24b58b1b">
        <span class="icon is-small">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </span>
        <span>LinkedIn</span>
      </a>
    </nav>
    <div class="footnote">
      &copy; Bartłomiej Wójtowicz
    </div>
  </div>
</footer>

<script>
  if (window.localStorage && window.localStorage.getItem("theme") === "light") {
    document.body.classList.toggle('light');
  }

  document.addEventListener('DOMContentLoaded', () => {
    const burger = document.getElementById('a-burger');
    const adjust = document.getElementById('a-adjust');

    burger.addEventListener('click', () => {
      document.body.classList.toggle('burger-open');
    });

    adjust.addEventListener('click', () => {
      document.body.classList.toggle('light');

      if (window.localStorage) {
        const theme = window.localStorage.getItem("theme") || "dark";
        if (theme === "dark") {
          window.localStorage.setItem("theme", "light");
        } else {
          window.localStorage.setItem("theme", "dark");
        }
      }
    });
  });
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-143750284-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-143750284-1');
</script>

</body>

</html>

